
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Vaboo! - Plataforma de Recrutamento{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <meta name="description" content="Plataforma moderna de recrutamento com IA integrada">
</head>
<body>
    <nav>
        <div class="container">
            <a href="{{ url_for('index') }}" class="logo">
                <span class="vaboo-text">Vaboo</span><span class="exclamation">!</span>
            </a>
            
            <div class="flex items-center gap-4">
                {% if session.tipo_usuario %}
                    {% if session.tipo_usuario == 'candidato' %}
                        <a href="{{ url_for('dashboard_candidato') }}" class="nav-link">Dashboard</a>
                        <a href="{{ url_for('editar_perfil_candidato') }}" class="nav-link">Perfil</a>
                    {% elif session.tipo_usuario == 'empresa' %}
                        <a href="{{ url_for('dashboard_empresa') }}" class="nav-link">Dashboard</a>
                        <a href="{{ url_for('criar_vaga') }}" class="nav-link">Nova Vaga</a>
                    {% endif %}
                    <a href="{{ url_for('logout') }}" class="btn-secondary">Sair</a>
                {% else %}
                    <a href="{{ url_for('index') }}" class="nav-link">Home</a>
                    <a href="{{ url_for('login_candidato') }}" class="nav-link">Candidatos</a>
                    <a href="{{ url_for('login_empresa') }}" class="nav-link">Empresas</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <main class="container mt-8">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert fade-in
                        {% if category == 'error' %}
                            alert-error
                        {% elif category == 'success' %}
                            alert-success
                        {% elif category == 'warning' %}
                            alert-warning
                        {% else %}
                            alert-primary
                        {% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>

    <script>
        // Utilitários globais para UI
        window.VabooUI = {
            showToast: function(message, type = 'info', duration = 3000) {
                const toast = document.createElement('div');
                toast.className = `alert alert-${type} fixed top-4 right-4 z-50 max-w-sm fade-in`;
                toast.textContent = message;
                toast.style.zIndex = '9999';
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.style.opacity = '0';
                    toast.style.transform = 'translateX(100%)';
                    setTimeout(() => document.body.removeChild(toast), 300);
                }, duration);
            },
            
            confirmAction: function(message, callback) {
                if (confirm(message)) {
                    callback();
                }
            },
            
            formatDate: function(dateString) {
                return new Date(dateString).toLocaleDateString('pt-BR');
            }
        };
        
        // Auto-hide alerts após 5 segundos
        document.addEventListener('DOMContentLoaded', function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                setTimeout(() => {
                    alert.style.opacity = '0';
                    alert.style.transform = 'translateY(-100%)';
                    setTimeout(() => alert.remove(), 300);
                }, 5000);
            });
        });
    </script>
</body>
</html>